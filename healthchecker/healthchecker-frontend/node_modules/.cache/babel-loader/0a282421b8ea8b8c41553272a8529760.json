{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Farooq\\\\Documents\\\\GitHub\\\\cs2001-2020_21-group-36-1\\\\healthchecker\\\\healthchecker-frontend\\\\src\\\\Components\\\\PatientRegister1.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport './patientRegister1.css';\nimport axios from 'axios';\nexport default function PatientRegister1() {\n  _s();\n\n  //Define two states\n  //1. The content entered in the texbox in the form\n  //2. Output to be displayed to the user\n  // const [data, updateData] = React.useState([]);\n  const [line1, setLine1] = React.useState(\"\");\n  const [line2, setLine2] = React.useState(\"\");\n  const [postcode, setPostcode] = React.useState(\"\");\n  const [city, setCity] = React.useState(\"\");\n  const [country, setCountry] = React.useState(\"\");\n  const [output, setOutput] = React.useState(\"\");\n  const [userName, setUserName] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [role, setRole] = React.useState(\"\");\n  const [firstName, setFirstName] = React.useState(\"\");\n  const [lastName, setLastName] = React.useState(\"\");\n  const [dob, setDOB] = React.useState(\"\");\n  const [phone, setPhone] = React.useState(\"\");\n  const [USERID, setUSERID] = React.useState(0);\n  const [ADDRESSID, setADDRESSID] = React.useState(0); // const [output, setOutput] = React.useState(\"\");\n  //Arrow function to handle content change\n\n  const Line1 = event => setLine1(event.target.value);\n\n  const Line2 = event => setLine2(event.target.value);\n\n  const Postcode = event => setPostcode(event.target.value);\n\n  const City = event => setCity(event.target.value);\n\n  const Country = event => setCountry(event.target.value);\n\n  const user_name = event => setUserName(event.target.value);\n\n  const Password = event => setPassword(event.target.value);\n\n  const Role = event => setRole(event.target.value);\n\n  const FirstName = event => setFirstName(event.target.value);\n\n  const LastName = event => setLastName(event.target.value);\n\n  const DOB = event => setDOB(event.target.value);\n\n  const Phone = event => setPhone(event.target.value); //ToDo: Arrow function to handle form submission on pressing Save button\n\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    let one = \"/address\";\n    let two = \"/user\";\n    let three = \"/patient\";\n    const requestOne = axios.post(one, {\n      \"line1\": line1,\n      \"line2\": line2,\n      \"postcode\": postcode,\n      \"city\": city,\n      \"country\": country\n    });\n    const requestTwo = axios.post(two, {\n      \"user_name\": userName,\n      \"password\": password,\n      \"roles\": role,\n      \"active\": \"true\"\n    });\n    axios.all([requestOne, requestTwo]).then(response => {\n      console.log(response); //  setOutput(\"Job ad successfully added\");\n    }, error => {\n      console.log(error); // setOutput(\"Job ad failed\");\n    });\n    axios({\n      method: 'get',\n      url: '/user'\n    }).then(res => {\n      console.log(res); // updateData(res.data)\n\n      var stringResponse = JSON.stringify(res.data);\n      var arrayResponse = stringResponse.split(',');\n      var idResponse = arrayResponse[arrayResponse.length - 5].split('{\"id\":');\n      var id = idResponse[1];\n      var idNumber = parseInt(idResponse[1]);\n      var realuserid = idNumber + 2;\n      var roleResponse = arrayResponse[arrayResponse.length - 2].split('\"roles\":\"');\n      var roleResponse1 = roleResponse[1].split('\"');\n      var role = roleResponse1[0];\n\n      if (role === \"ROLE_PATIENT\") {\n        setUSERID(realuserid);\n      } else {\n        setUSERID(\"NULL\");\n      } // setOutput(USERID)\n\n    });\n    axios({\n      method: 'get',\n      url: '/address'\n    }).then(res => {\n      console.log(res); // updateData(res.data)\n\n      var stringResponse = JSON.stringify(res.data);\n      var arrayResponse = stringResponse.split(',');\n      var addressResponse = arrayResponse[arrayResponse.length - 1].split('\"addressid\":');\n      var address = addressResponse[1].split('}]');\n      var addressIdNumber = parseInt(address);\n      var realAddressid = addressIdNumber + 2;\n      setADDRESSID(realAddressid);\n    });\n    axios.post(three, {\n      \"firstName\": firstName,\n      \"lastName\": lastName,\n      \"dob\": dob,\n      \"addressId\": ADDRESSID,\n      \"phone\": phone,\n      \"user_Id\": USERID\n    }).then(response => {\n      console.log(response);\n      setOutput(\"Your data is successful saved\");\n    }, error => {\n      console.log(error); //setOutput(USERID);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Username:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"userName\",\n                  name: \"userName\",\n                  placeholder: \"Type your user name\",\n                  onChange: user_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"password\",\n                  name: \"password\",\n                  placeholder: \"Type your password\",\n                  onChange: Password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Line1:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"line1\",\n                  name: \"line1\",\n                  placeholder: \"Type your address line1\",\n                  onChange: Line1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Line2:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"line2\",\n                  name: \"password\",\n                  placeholder: \"Type your address line2\",\n                  onChange: Line2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Postcode:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"postcode\",\n                  name: \"postcode\",\n                  placeholder: \"Type your postcode\",\n                  onChange: Postcode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"City:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"city\",\n                  name: \"city\",\n                  placeholder: \"Type your city\",\n                  onChange: City\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Country:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"country\",\n                  name: \"country\",\n                  placeholder: \"Type your country\",\n                  onChange: Country\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"First Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"firstName\",\n                  name: \"firstName\",\n                  placeholder: \"Type your first name\",\n                  onChange: FirstName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Last Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"lastName\",\n                  name: \"lastName\",\n                  placeholder: \"Type your last name\",\n                  onChange: LastName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Date of Birth:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"dob\",\n                  name: \"dob\",\n                  placeholder: \"Type your date of birth with year-month-day format\",\n                  onChange: DOB\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"phone\",\n                  name: \"phone\",\n                  placeholder: \"Type your phone number\",\n                  onChange: Phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Role:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  value: \"ROLE_PATIENT\",\n                  name: \"role\",\n                  onChange: Role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), \" Patient\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: handleSubmit,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: output\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PatientRegister1, \"GG1YCcIIryNBNofF8l/CLDp5Ozk=\");\n\n_c = PatientRegister1;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientRegister1\");","map":{"version":3,"sources":["C:/Users/Farooq/Documents/GitHub/cs2001-2020_21-group-36-1/healthchecker/healthchecker-frontend/src/Components/PatientRegister1.js"],"names":["React","axios","PatientRegister1","line1","setLine1","useState","line2","setLine2","postcode","setPostcode","city","setCity","country","setCountry","output","setOutput","userName","setUserName","password","setPassword","role","setRole","firstName","setFirstName","lastName","setLastName","dob","setDOB","phone","setPhone","USERID","setUSERID","ADDRESSID","setADDRESSID","Line1","event","target","value","Line2","Postcode","City","Country","user_name","Password","Role","FirstName","LastName","DOB","Phone","handleSubmit","preventDefault","one","two","three","requestOne","post","requestTwo","all","then","response","console","log","error","method","url","res","stringResponse","JSON","stringify","data","arrayResponse","split","idResponse","length","id","idNumber","parseInt","realuserid","roleResponse","roleResponse1","addressResponse","address","addressIdNumber","realAddressid"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './patientRegister1.css';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function PatientRegister1(){\r\n  //Define two states\r\n  //1. The content entered in the texbox in the form\r\n  //2. Output to be displayed to the user\r\n  // const [data, updateData] = React.useState([]);\r\n  const [line1, setLine1] = React.useState(\"\");\r\n  const [line2, setLine2] = React.useState(\"\");\r\n  const [postcode, setPostcode] = React.useState(\"\");\r\n  const [city, setCity] = React.useState(\"\");\r\n  const [country, setCountry] = React.useState(\"\");\r\n  const [output, setOutput] = React.useState(\"\");\r\n  const [userName, setUserName] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [role, setRole] = React.useState(\"\");\r\n  const [firstName, setFirstName] = React.useState(\"\");\r\n  const [lastName, setLastName] = React.useState(\"\");\r\n  const [dob, setDOB] = React.useState(\"\");\r\n  const [phone, setPhone] = React.useState(\"\");\r\n\r\n  const [USERID, setUSERID] = React.useState(0);\r\n  const [ADDRESSID, setADDRESSID] = React.useState(0);\r\n  // const [output, setOutput] = React.useState(\"\");\r\n\r\n  //Arrow function to handle content change\r\n  const Line1 = event => setLine1(event.target.value);\r\n  const Line2 = event => setLine2(event.target.value);\r\n  const Postcode = event => setPostcode(event.target.value);\r\n  const City = event => setCity(event.target.value);\r\n  const Country = event => setCountry(event.target.value);\r\n\r\n  const user_name = event => setUserName(event.target.value);\r\n  const Password = event => setPassword(event.target.value);\r\n  const Role = event => setRole(event.target.value);\r\n\r\n  const FirstName = event => setFirstName(event.target.value);\r\n  const LastName = event => setLastName(event.target.value);\r\n  const DOB = event => setDOB(event.target.value);\r\n  const Phone = event => setPhone(event.target.value);\r\n\r\n\r\n  //ToDo: Arrow function to handle form submission on pressing Save button\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n      let one = \"/address\";\r\n      let two= \"/user\";\r\n      let three=\"/patient\";\r\n      const requestOne = axios.post(one,{\r\n        \"line1\": line1,\r\n        \"line2\": line2,\r\n        \"postcode\": postcode,\r\n        \"city\": city,\r\n        \"country\": country\r\n      });\r\n      const requestTwo = axios.post(two,{\r\n        \"user_name\": userName,\r\n        \"password\": password,\r\n        \"roles\": role,\r\n        \"active\": \"true\"\r\n      });\r\n      \r\n\r\n      axios.all([requestOne, requestTwo])\r\n      .then((response) => {\r\n        console.log(response);\r\n      //  setOutput(\"Job ad successfully added\");\r\n      }, (error) => {\r\n        console.log(error);\r\n        // setOutput(\"Job ad failed\");\r\n      });\r\n      \r\n      axios({\r\n      method: 'get',\r\n      url: '/user',\r\n      }).then(res => {\r\n      console.log(res);\r\n\r\n      // updateData(res.data)\r\n      var stringResponse = JSON.stringify(res.data)\r\n        var arrayResponse = stringResponse.split(',');\r\n        var idResponse = arrayResponse[(arrayResponse.length)-5].split('{\"id\":');\r\n        var id=idResponse[1];\r\n        var idNumber=parseInt(idResponse[1]);\r\n        var realuserid=idNumber+2;\r\n\r\n        \r\n\r\n        var roleResponse = arrayResponse[(arrayResponse.length)-2].split('\"roles\":\"');\r\n        var roleResponse1 = roleResponse[1].split('\"');\r\n        var role = roleResponse1[0];\r\n        if(role===\"ROLE_PATIENT\")\r\n        {\r\n          setUSERID(realuserid)\r\n        }\r\n        else\r\n        {\r\n          setUSERID(\"NULL\")\r\n        }\r\n        // setOutput(USERID)\r\n      });\r\n\r\n      axios({\r\n      method: 'get',\r\n      url: '/address',\r\n      }).then(res => {\r\n      console.log(res);\r\n\r\n      // updateData(res.data)\r\n        var stringResponse = JSON.stringify(res.data)\r\n        var arrayResponse = stringResponse.split(',')\r\n        var addressResponse = arrayResponse[(arrayResponse.length)-1].split('\"addressid\":');\r\n        var address=addressResponse[1].split('}]');\r\n        var addressIdNumber=parseInt(address);\r\n        var realAddressid=addressIdNumber+2;\r\n        setADDRESSID(realAddressid)\r\n\r\n\r\n      });\r\n      axios.post(three,{\r\n        \"firstName\": firstName,\r\n        \"lastName\": lastName,\r\n        \"dob\": dob,\r\n        \"addressId\": ADDRESSID,\r\n        \"phone\": phone,\r\n        \"user_Id\": USERID\r\n      }).then((response) => {\r\n        console.log(response);\r\n      setOutput(\"Your data is successful saved\");\r\n      }, (error) => {\r\n        console.log(error);\r\n        //setOutput(USERID);\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        \r\n\r\n        <div className=\"box\"> \r\n          <form className=\"form\" noValidate>\r\n            <br></br>\r\n            <table>\r\n              <tr>\r\n                <td>\r\n                  Username: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"userName\" name=\"userName\" placeholder=\"Type your user name\" onChange={user_name} />\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Password: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"password\" name=\"password\" placeholder=\"Type your password\" onChange={Password} />\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Line1: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"line1\" name=\"line1\" placeholder=\"Type your address line1\" onChange={Line1} />\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Line2: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"line2\" name=\"password\" placeholder=\"Type your address line2\" onChange={Line2} />\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Postcode: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"postcode\" name=\"postcode\" placeholder=\"Type your postcode\" onChange={Postcode}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  City: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"city\" name=\"city\" placeholder=\"Type your city\" onChange={City}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Country: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"country\" name=\"country\" placeholder=\"Type your country\" onChange={Country}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  First Name:\r\n                </td>\r\n                <td>\r\n                  <textarea id=\"firstName\" name=\"firstName\" placeholder=\"Type your first name\" onChange={FirstName}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Last Name:\r\n                </td>\r\n                <td>\r\n                  <textarea id=\"lastName\" name=\"lastName\" placeholder=\"Type your last name\" onChange={LastName}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Date of Birth: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"dob\" name=\"dob\" placeholder=\"Type your date of birth with year-month-day format\" onChange={DOB}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Phone: \r\n                </td>\r\n                <td>\r\n                  <textarea id=\"phone\" name=\"phone\" placeholder=\"Type your phone number\" onChange={Phone}/>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td>\r\n                  Role:\r\n                </td>\r\n                <td>\r\n                  <input type=\"radio\" value=\"ROLE_PATIENT\" name=\"role\" onChange={Role}/> Patient\r\n                </td>\r\n              </tr>\r\n            </table>\r\n\r\n            <button className=\"button\" onClick={handleSubmit}>Register</button>\r\n\r\n          </form>\r\n        </div>\r\n        <div className=\"box\">\r\n          <p>{output}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}